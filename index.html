<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Key do Dia</title>
<style>
  body { display:flex; justify-content:center; align-items:center; height:100vh; font-family:sans-serif; background:#111; color:#fff; }
  .key-box { text-align:center; background:#222; padding:20px; border-radius:10px; }
  button { margin-top:10px; padding:10px 20px; border:none; border-radius:5px; cursor:pointer; background:#5f5; color:#000; font-weight:bold; }
</style>
</head>
<body>
  <div class="key-box">
    <h1>Key do Dia</h1>
    <p id="key">Carregando...</p>
    <button onclick="copyKey()">Copiar Key</button>
  </div>

<script>
async function fetchKey() {
  try {
    const res = await fetch("/api/key");
    const data = await res.json();

    if(data.key) {
      document.getElementById("key").innerText = data.key;
    } else {
      document.getElementById("key").innerText = "Acesso negado!";
    }
  } catch (e) {
    document.getElementById("key").innerText = "Erro ao carregar key";
  }
}

function copyKey() {
  const keyText = document.getElementById("key").innerText;
  navigator.clipboard.writeText(keyText).then(() => alert("Key copiada!"));
}

fetchKey();
</script>
</body>
</html>
